(stumpwm:set-prefix-key (stumpwm:kbd "C-j"))
 	
(setf stumpwm:*screen-mode-line-format*
      (list "%w | "
            '(:eval (stumpwm:run-shell-command "date +\"%D %H:%M\"" t))))

;; launch Emacs
(defcommand emacs () ()  ;! redefining emacs command
  "Start Emacs or switch to it, if it is already running."
  (run-or-raise "emacs" '(:class "Emacs")))

(define-key *root-map* (kbd "g") "exec google-chrome-stable")

(defcommand alacritty () ()
  (run-or-raise "alacritty" '(:class "Alacritty")))
(define-key *root-map* (kbd "c") "alacritty")

;; lock screen
(defcommand system-lock () ()
	    (run-shell-command "xtrlock"))
(define-key *root-map* (kbd "L") "system-lock")

;; sleep
(defcommand system-sleep () ()
	    (run-commands "system-lock")
	    (run-shell-command "systemctl suspend"))
(define-key *root-map* (kbd "XF86Sleep") "system-sleep")

;;    (define-stumpwm-command "mymenu" ()
;;      (labels ((pick (options)
;;                 (let ((selection (stumpwm::select-from-menu (current-screen) options "")))
;;                   (cond
;;                     ((null selection)
;;                      (throw 'stumpwm::error "Abort."))
;;                     ((stringp (second selection))
;;                      (second selection))
;;                     (t
;;                      (pick (cdr selection)))))))
;;        (let ((choice (pick *app-menu*)))
;;          (run-shell-command choice))))
;;
;;    (defparameter *app-menu* '(("INTERNET"
;;                              ;; sub menu
;;                        ("Firefox" "firefox")
;;                        ("Skype" "skype"))
;;                   ("FUN"
;;                    ;; sub menu
;;                        ("option 2" "xlogo")
;;                        ("GnuChess" "xboard"))
;;                       ("WORK"
;;                    ;;submenu
;;                    ("OpenOffice.org" "openoffice"))
;;                   ("GRAPHICS"
;;                    ;;submenu
;;                    ("GIMP" "gimp"))
;;                    ("K3B" "k3b")))
